# Semiconductor War (반도체 전쟁) — 게임 시스템 완전 가이드

> 이 문서는 다른 AI/개발자가 코드베이스를 이해할 수 있도록, 게임의 플레이 방법·룰·맵·엔티티·시스템을 구체적으로 정리한 레퍼런스입니다.

---

## 1. 게임 개요

웹 브라우저에서 접속하는 **실시간 멀티플레이어 탑다운 2D 게임**.
Slither.io처럼 가벼운 루프:

> 브라우저 접속 → 닉네임 입력 → 진영 선택 → 즉시 플레이 → 사망 시 5초 후 리스폰

- 로그인/DB 없음 (Stateless 접속)
- 서버 권위적(Server-Authoritative) 아키텍처 — 모든 게임 로직은 서버에서 실행
- 서버 60Hz 물리 틱, 20Hz 스냅샷 브로드캐스트
- 클라이언트는 입력 전송 + 보간 렌더링만 담당
- 기술 스택: Vanilla JS + Node.js + Express v5 + Socket.io v4 + HTML5 Canvas
- **PC + 모바일 동시 지원** — 링크 공유로 모바일 브라우저에서 즉시 플레이 (가상 조이스틱 + 터치 버튼)
- **라운드 개념 없음** — 연속 플레이 (영토 점수 누적)

---

## 2. 진영 (2팀)

| 진영 | 키 | 색상 | 테마 |
|------|----|------|------|
| **Samsung** | `samsung` | 파랑 `#1e64ff` | GAA, HBM3E, 2nm 공정 |
| **SK Hynix** | `skhynix` | 빨강 `#ff3250` | HBM4, NAND, 1β 공정 |

접속 시 닉네임과 함께 둘 중 하나를 선택한다.

---

## 3. 플레이어 클래스 시스템

모든 플레이어는 **RESISTOR**로 시작하고, 레벨 2에서 **CAPACITOR** 또는 **REPEATER** 중 하나로 진화(Evolution)한다.
진화는 `E` 키로 선택 UI를 열어 결정한다.

### 3-1. RESISTOR (기본 클래스)

| 항목 | 값 |
|------|----|
| HP | 120 |
| 이동속도 | 200 px/s |
| 공격 사거리 | 280 px |
| 공격 데미지 | 10 |
| 공격 쿨다운 | 350 ms |
| 탄속 | 500 px/s |
| 탄환 반경 | 4 px |
| 탄환 수명 | 1500 ms |
| 공격 타입 | `single` (단발 발사체) |
| 설명 | 기본 수동소자 — 올라운드 |

### 3-2. CAPACITOR (Tier 2 — 근접 탱커)

| 항목 | 값 |
|------|----|
| HP | 250 |
| 이동속도 | 150 px/s |
| 공격 타입 | `orbit` (뱀서라이크 오비탈 회전 공격) |
| 오브 개수 | 3 |
| 궤도 반경 | 90 px (플레이어 중심에서 거리) |
| 회전 속도 | 2.8 rad/s |
| 오브 충돌 반경 | 14 px |
| 오브 히트 데미지 | 18 |
| 동일 대상 재히트 쿨 | 700 ms |
| 보호막 최대값 | 80 HP |
| 보호막 재충전 대기 | 5000 ms (소진 후) |
| 보호막 재충전 속도 | 20 HP/s |
| 셀 추가 데미지 | +25% |
| 설명 | 에너지 축적 후 방출 — 근접 탱커 (오비탈 공격 + 보호막) |

보호막은 HP보다 먼저 소진되며, 완전히 소진되면 5초 후부터 초당 20씩 재충전된다.

### 3-3. REPEATER (Tier 2 — 원거리 기동형)

| 항목 | 값 |
|------|----|
| HP | 110 |
| 이동속도 | 260 px/s |
| 공격 사거리 | 280 px |
| 공격 데미지 | 7 |
| 공격 쿨다운 | 150 ms (초고속 연사) |
| 탄속 | 700 px/s |
| 탄환 반경 | 3 px |
| 탄환 수명 | 1800 ms |
| 공격 타입 | `single` (단발 발사체) |
| 설명 | 신호 재생성/중계 — 원거리 기동 |

### 3-4. INDUCTOR (Tier 3 — 광역 탱커, CAPACITOR에서 진화)

CAPACITOR의 3오브+쉴드를 유지하면서 **4번째 오브 + 자기 인력**을 추가.

| 항목 | 값 | CAPACITOR 대비 |
|------|----|---------------|
| HP | 280 | +30 |
| 이동속도 | 130 px/s | -20 |
| 오브 개수 | **4** | +1 (추가 요소) |
| 궤도 반경 | 110 px | +20 |
| 회전 속도 | 2.2 rad/s | -0.6 |
| 오브 충돌 반경 | 16 px | +2 |
| 오브 히트 데미지 | 17 | -1 |
| 동일 대상 재히트 쿨 | 750 ms | +50 |
| **자기 인력** | **범위 180px, 32 px/s** | **추가 요소** |
| 보호막 최대값 | 60 HP | -20 |
| 보호막 재충전 대기 | 6000 ms | +1000 |
| 보호막 재충전 속도 | 15 HP/s | -5 |
| 셀 추가 데미지 | +30% | +5% |

### 3-5. TRANSFORMER (Tier 3 — 서포터, CAPACITOR에서 진화)

CAPACITOR의 3오브+쉴드를 유지하면서 **아군 버프 오라**를 추가.

| 항목 | 값 | CAPACITOR 대비 |
|------|----|---------------|
| HP | 300 | +50 |
| 이동속도 | 140 px/s | -10 |
| 오브 개수 | **3** | 동일 (기본기 유지) |
| 궤도 반경 | 80 px | -10 |
| 회전 속도 | 3.0 rad/s | +0.2 |
| 오브 충돌 반경 | 12 px | -2 |
| 오브 히트 데미지 | 15 | -3 |
| 동일 대상 재히트 쿨 | 700 ms | 동일 |
| **오라 범위** | **200 px** | **추가 요소** |
| **오라 데미지 부스트** | **아군 +15%** | **추가 요소** |
| **오라 HP 리젠** | **2.5 HP/s (자신 포함)** | **추가 요소** |
| 보호막 최대값 | 100 HP | +20 |
| 보호막 재충전 대기 | 4000 ms | -1000 |
| 보호막 재충전 속도 | 25 HP/s | +5 |
| 셀 추가 데미지 | +15% | -10% |

### 3-6. OSCILLATOR (Tier 3 — 확산 딜러, REPEATER에서 진화)

REPEATER의 빠른 연사를 유지하면서 **좌우 확산탄**을 추가. (스트라이커즈 1945 패턴)

| 항목 | 값 | REPEATER 대비 |
|------|----|--------------|
| HP | 130 | +20 |
| 이동속도 | 240 px/s | -20 |
| 공격 사거리 | 280 px | 동일 |
| 공격 데미지 | 7 | 동일 (기본기 유지) |
| 공격 쿨다운 | 160 ms | +10 |
| 탄속 | 700 px/s | 동일 |
| 공격 타입 | `single` | 동일 (기본기 유지) |
| **동시 발사 수** | **3발** | **추가 요소 (메인+좌우)** |
| **확산 각도** | **±0.15 rad (±8.6°)** | **추가 요소** |
| 셀 추가 데미지 | +10% | +10% |

- 원거리: 중앙 1발만 적중 → REPEATER와 유사 DPS (43.8)
- 근접: 3발 전탄 적중 → **131 DPS** (미니언 웨이브, 보스, 팀파이트)

### 3-7. AMPLIFIER (Tier 3 — 증폭 사수, REPEATER에서 진화)

REPEATER의 빠른 연사를 유지하면서 **주기적 증폭탄**을 추가. (스트라이커즈 1945 패턴)

| 항목 | 값 | REPEATER 대비 |
|------|----|--------------|
| HP | 100 | -10 (유리대포) |
| 이동속도 | 200 px/s | -60 |
| 공격 사거리 | 350 px | +70 (장사거리) |
| 공격 데미지 | 7 | 동일 (기본기 유지) |
| 공격 쿨다운 | 200 ms | +50 |
| 탄속 | 800 px/s | +100 |
| 공격 타입 | `single` | 동일 (기본기 유지) |
| **증폭탄 주기** | **4발째** | **추가 요소** |
| **증폭탄 데미지** | **3배 (21)** | **추가 요소** |
| **증폭탄 크기** | **반경 6px** | 시각적 강조 |
| 셀 추가 데미지 | +10% | +10% |

- 4발 사이클 DPS: (3×7 + 21) / 0.8s = **52.5** (REPEATER 46.7 대비 +12%)
- 증폭탄은 금색 글로우로 시각적 구별

### 설계 원칙: 스트라이커즈 1945 패턴

```
Tier 3 = Tier 2의 기본 공격 (그대로 유지) + 새로운 공격 요소 (위에 얹기)

CAPACITOR 계열:
  INDUCTOR   = 3오브+쉴드 (유지) + 4번째 오브 + 자기 인력
  TRANSFORMER = 3오브+쉴드 (유지) + 아군 버프 오라

REPEATER 계열:
  OSCILLATOR = 빠른 연사 (유지) + 좌우 확산탄
  AMPLIFIER  = 빠른 연사 (유지) + 주기적 증폭탄
```

### 진화 트리 요약

```
              RESISTOR (Tier 1, Lv1)
                   │
        ┌──── Lv 2 ────┐
        ▼               ▼
   CAPACITOR        REPEATER
  (3오브+쉴드)      (빠른 연사)
        │               │
   ┌── Lv 5 ──┐   ┌── Lv 5 ──┐
   ▼           ▼   ▼           ▼
INDUCTOR  TRANSFORMER  OSCILLATOR  AMPLIFIER
(+1오브    (+오라)      (+확산탄)   (+증폭탄)
 +인력)
```

### 전투 방식

- **자동 전투(Auto-Combat)**: 수동 조준/사격 없음
- 서버가 **200ms**마다 가장 가까운 적을 재평가하여 자동 공격
- 타겟 우선순위: `player > monster > cell > minion > neutralMob`
- 이동: **WASD** 키

---

## 4. 레벨링 시스템

| 항목 | 값 |
|------|----|
| 레벨업 필요 XP | `level × 20` (예: Lv1→2 = 20XP, Lv2→3 = 40XP) |
| 최대 레벨 | 20 |
| Tier 2 진화 레벨 | 2 (`EVOLVE_LEVEL`) |
| Tier 3 진화 레벨 | 5 (`EVOLVE_LEVEL_2`) |
| 레벨당 HP 성장 | +8% |
| 레벨당 데미지 성장 | +5% |
| 레벨당 속도 성장 | +1% |
| 사망 시 XP 손실 | 현재 레벨 XP의 25% (레벨 자체는 유지) |

### XP 획득원

| 행동 | XP |
|------|----|
| 플레이어 처치 | 50 |
| **보스 라스트히트** | **60** (`monsterKill`) |
| 셀 터렛 파괴 | 30 |
| 복수 킬 | 30 |
| 어시스트 | 25 |
| 셀 터렛 점령 | 20 |
| 보스 어시스트 | 20 (`bossAssist`, 데미지 기여자) |
| 미니언 처치 | 5 |
| **중립 몹 처치** | **3 / 12 / 35** (Photon / Dopant / Alpha) |
| **EUV 아이템 획득** | **3** |

### HUD XP 표시

- 캐릭터 HP 바 바로 아래에 **노란색 XP 바** 표시
- 현재 XP / 다음 레벨 필요 XP 비율을 시각화

---

## 5. 맵 구성

두 가지 맵이 있으며, 접속 시 서버가 맵을 결정한다.
월드 크기는 공통 **3600 × 2400 px**.

### 5-1. Tri-Bus Circuit (3레인 맵)

반도체 표준셀 행(Standard-cell row) / 메탈 버스 라우팅 채널을 모델링한 맵.

```
         [VDD 파워레일]
  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  [삼성 스폰]                                 [하이닉스 스폰]
  (330,1200)                                   (3270,1200)

  ── Top Lane (y=630) ───────────────────────────────────
     T1(삼성)    ●via    T2(중립)    ●via    T3(하이닉스)

  ── Mid Lane (y=1200) ──────────────────────────────────
     M1(삼성)    ●via   [BOSS방]    ●via    M3(하이닉스)
                        M2(중립)

  ── Bot Lane (y=1770) ──────────────────────────────────
     B1(삼성)    ●via    B2(중립)    ●via    B3(하이닉스)

  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
         [VSS 그라운드레일]
```

| 요소 | 설명 |
|------|------|
| 3개 레인 | top (y=630), mid (y=1200), bottom (y=1770), 각 ±150px 폭 |
| 6개 비아 포탈 | 쌍으로 연결 (좌↔우), 밟으면 쌍 포탈로 즉시 이동, **8초 쿨다운**, 이동 후 250ms 무적 |
| 중앙 보스방 | (1800, 1200) 반경 270px |
| 16개 장애물 | 레인 중간의 CELL(MOSFET 기호)/TAP(접지 기호)/VIA(적층 Via)/BUF(버퍼 게이트) 블록 — 실제 회로도 기호로 렌더링 |
| 9개 셀 터렛 | 레인별 3개 (아군측 1, 중앙 중립 1, 적측 1) |
| 미니언 경로 | 레인별 수평 직선 (스폰 → 적 기지) |

### 5-2. Wafer Ring Arena (원형 맵)

실리콘 웨이퍼의 방사형 기하학을 반영한 원형 아레나.

```
              [삼성 스폰 (1800,330)]
                     ●N
                   /    \
          S1 ●  /   ●C1   \  ● S2
              /               \
        ●W  |    [BOSS 중앙]    |  ●E
              \  (1800,1200)  /
          H1 ●  \   ●C3   /  ● H2
                   \    /
                     ●S
              [하이닉스 스폰 (1800,2070)]
```

| 요소 | 설명 |
|------|------|
| 원형 아레나 | 중심 (1800, 1200), 메인 반경 960px |
| 4개 외곽 디버프 존 | NE/SE/SW/NW 섹터, **60초 주기로 활성화 → 30초 지속** |
| — NE, SW | SPD -10% (이동속도 감소) |
| — SE, NW | ACC -5% (명중률 감소) |
| 4개 커넥터 | N/E/S/W 방향 통로, 이동속도 **1.5배** 부스트 |
| 14개 장애물 | DIE(다이오드 기호)/PCM(저항 지그재그 기호) 블록 — 실제 회로도 기호로 렌더링 |
| 8개 셀 터렛 | 삼성측 2 (S1, S2), 하이닉스측 2 (H1, H2), 중립 분쟁지 4 (C1~C4) |
| 미니언 경로 | 방사형 (스폰 → 중앙 → 적 스폰) |
| 보스 처치 시 | 디버프 존 30초간 정화(cleanse) |

---

## 6. 미니언 (Die)

각 진영 Fab(기지)에서 자동으로 출격하는 소형 유닛.

| 항목 | 값 |
|------|----|
| 스폰 주기 | 8초마다 |
| 스폰 수 | 3기 (레인별 1기씩 분산) |
| HP | 30 |
| 이동속도 | 80 px/s |
| 공격 데미지 | 5 |
| 공격 사거리 | 30 px (근접) |
| 공격 쿨다운 | 1000 ms |
| 반경 | 12 px |
| 처치 시 XP | 5 |

- 맵 설정의 `minionPaths`에 정의된 웨이포인트를 따라 전진
- 적 플레이어/미니언과 조우 시 근접 공격
- 셀 터렛 백도어 방지 판정에 사용 (아군 미니언 유무)

---

## 7. 중립 보스 (빅테크 몬스터)

맵 중앙 보스방에 스폰되는 강력한 중립 몬스터. LoL의 드래곤/바론 컨셉.
**diep.io 스타일 공격 패턴**을 가지며, 보스마다 고유한 형태와 공격 방식을 갖는다.

### 스폰 규칙
- **필드에 1마리만** 존재
- 게임 시작 후 **30초 대기** → 첫 보스 스폰
- 보스 사망 → **30초 대기** → 다음 보스 스폰
- 순서대로 순환: NVIDIA → Apple → TSMC → Google → META → 반복
- 사망 시 관련 드론/보스 발사체 자동 정리

### 보스 행동 AI
- **배회 이동**: 보스방 중심 반경 140px 내에서 자유롭게 배회 (속도 40 px/s)
- **타겟팅**: 가장 가까운 플레이어를 향해 조준
- **공격 사거리**: 400px 이내 플레이어에게 공격 발동

### 보스 종류 & 공격 스타일

| 보스 | 색상 | 공격 스타일 | 데미지 | 쿨다운 | HP | 버프 | 지속시간 |
|------|-------|-----------|--------|--------|-----|------|----------|
| **NVIDIA** | `#76b900` 녹색 | **spray** (부채꼴 3발 산탄) | 12 | 1800ms | 500 | DMG +30% | 30초 |
| **Apple** | `#a2aaad` 은색 | **sniper** (단발 고속·고데미지) | 30 | 2500ms | 400 | SPD +25% | 30초 |
| **TSMC** | `#c4001a` 적색 | **drone** (추적 드론 생성, 최대4) | 8/드론 | 3000ms | 600 | DMG +30% | 30초 |
| **Google** | `#4285f4` 파랑 | **pulse** (AoE 충격파 링) | 20 | 3500ms | 550 | HP REGEN | 30초 |
| **META** | `#0668e1` 파랑 | **twin** (평행 2연발) | 10 | 1200ms | 450 | ARMOR +20% | 30초 |

### 공격 패턴 상세

- **spray (NVIDIA)**: 바라보는 방향 중심으로 ±0.4rad 부채꼴에 3발 발사. 원형 바디 + 3개 포신.
- **sniper (Apple)**: 단발 고속(500px/s) 고데미지(30) 발사체. 원형 바디 + 긴 포신.
- **drone (TSMC)**: 플레이어를 추적하는 드론 유닛 생성. 드론 HP 30, 속도 100px/s, 접촉 데미지 8, 수명 6초. 사각형 바디.
- **pulse (Google)**: 반경 200px AoE 충격파. 0.4초에 걸쳐 확장, 범위 내 전체 플레이어에게 20 데미지. 원형 바디 + 확장 링.
- **twin (META)**: 평행 2줄로 발사체 동시 발사. 원형 바디 + 이중 포신.

### 보스 발사체/드론 스펙

| 엔티티 | 속도 | 반경 | 수명 | 비고 |
|--------|------|------|------|------|
| BossBullet | 300 px/s (기본) | 6 px | 2500 ms | 플레이어 충돌 시 소멸 |
| BossDrone | 100 px/s (추적) | 10 px | 6000 ms | HP 30, 플레이어 총알로 파괴 가능 |

### 보스 처치 보상
- **막타(Last Hit) 팀**에게 30초간 팀 전체 버프 부여
- **라스트히트 XP**: 60 (`monsterKill`) — 처치자 개인에게 지급
- **어시스트 XP**: 20 (`bossAssist`) — 데미지 기여한 다른 플레이어에게 각각 지급
- Wafer Ring 맵: 디버프 존 30초 정화

### HUD 보스 정보 패널

점수판 좌측에 보스 정보 표시:
- **보스 생존 시**: 보스 이름(색상) + 버프 설명 + HP 바
- **보스 사망 대기 시**: "NEXT BOSS" + 다음 보스 이름 + 버프 설명 + 리스폰 카운트다운(초)

---

## 8. 중립 몹 (Wafer Mobs)

맵 전체에 분포하는 **소형 중립 몬스터**. 보스와 달리 다수가 동시에 존재하며, 경험치 파밍 대상.
반도체 공정의 미시적 입자(포톤, 도펀트, 알파 입자)를 모티브로 한다.

### 스폰 규칙
- **5초마다** 스폰 체크 (`NEUTRAL_MOB_SPAWN_INTERVAL`)
- 유형별 `maxCount`까지 자동 보충
- 사망 시 유형별 `respawnDelay` 후 리스폰 큐에 추가
- 장애물/스폰 구역과 겹치지 않는 위치에 생성

### 종류 & 스펙

| 종류 | 형태 | 색상 | HP | XP | 반경 | 행동 | 최대 수 | 리스폰 |
|------|------|------|-----|-----|------|------|---------|--------|
| **Photon** (포톤) | 삼각형 | `#e8d44d` 황금 | 10 | 3 | 8 px | passive (도망) | 40 | 15초 |
| **Dopant** (도펀트) | 사각형 | `#7d5ba6` 보라 | 40 | 12 | 10 px | defensive (반격) | 20 | 25초 |
| **Alpha Particle** (알파 입자) | 오각형 | `#e74c3c` 적색 | 120 | 35 | 14 px | defensive (반격) | 6 | 45초 |

### 행동 패턴

- **passive (Photon)**: 평상시 정지. 피격 시 반대 방향으로 120 px/s 속도로 **2초간 도주**
- **defensive (Dopant/Alpha)**: 피격 시 반격.
  - Dopant: 근접 공격 (사거리 30px, 데미지 10, 쿨다운 1.2초)
  - Alpha Particle: 원거리 공격 (사거리 150px, 데미지 15, 쿨다운 1.5초)

### 타겟팅 우선순위

오토 타겟 시 중립 몹은 **최하위** (미니언보다 낮음):
`player > monster > cell > minion > neutralMob`

---

## 9. 아이템 픽업

맵에 랜덤 위치로 스폰되는 줍기 아이템.

| 항목 | 값 |
|------|----|
| 스폰 주기 | 10초마다 |
| 동시 최대 | 10개 |
| 반경 | 14 px |

### 아이템 종류

| 아이템 | 색상 | 형태 | 효과 | 스폰 확률 |
|--------|------|------|------|-----------|
| **Wafer** (웨이퍼) | 은색 `#c0c0c0` | 다이아몬드 | HP **+30** 즉시 회복 | 30% |
| **EUV** (노광장비) | 금색 `#ffd700` | 다이아몬드 | **XP +3** 경험치 획득 | 35% |
| **TSV Booster** (관통전극) | 시안 `#00e5ff` | 다이아몬드 | 이동속도 **+20%**, **8초간** 지속 | 10% |
| **Photoresist** (포토레지스트) | 보라 `#9b59b6` | 육각형 | 데미지 실드 **40HP**, **10초간** 지속 | 12.5% |
| **CMP Pad** (CMP 패드) | 주황 `#e67e22` | 원형 | HP **3/s** 회복, **8초간** 지속 | 12.5% |

- EUV는 경험치를 부여하여 레벨업에 기여 (이전의 영구 데미지 부스트에서 변경)
- TSV Booster는 시한 버프로 사망 시 소멸, 동일 아이템 재획득 시 시간 갱신 (중복 불가)
- TSV 포함 전체 이동속도 배율 상한: **1.30배** (`TSV_SPEED_CAP`)
- Photoresist: 버프 방식 데미지 실드. Capacitor의 클래스 보호막 이후, HP 이전에 흡수. 사망 시 소멸
- CMP Pad: 매 서버 틱마다 HP 회복. 최대 HP 초과 불가. 사망 시 소멸

---

## 10. 셀 터렛 (Cell Domination)

맵에 고정 배치된 **점령 가능 영토 터렛**. 이 게임의 핵심 전략 요소.

### 스펙

| 항목 | 값 |
|------|----|
| HP | 1200 |
| 본체 반경 | 24 px |
| 공격 데미지 | 45 |
| 공격 사거리 | 320 px |
| 공격 쿨다운 | 900 ms |
| 점령 존 반경 | 180 px |
| 점령 소요 시간 | 4초 (한 팀만 존 내 있을 때) |
| 재건 시간 | 3초 |
| 재건 후 HP | 최대의 60% (720 HP) |
| 점령 직후 무적 | 2초 |
| 점령 직후 공격 대기 | 1초 |
| 초당 영토 점수 | 1점 (소유 셀당) |

### 셀 상태 머신

```
neutral ──(피격으로 HP 0)──→ destroyed
                                │
                                ▼
                 (적 플레이어가 점령 존 내 4초 대기)
                                │
                                ▼
                           rebuilding
                                │
                                ▼
                       (3초 경과 → 소유권 전환)
                                │
                                ▼
                  owned ──(피격으로 HP 0)──→ destroyed ──→ (반복)
```

- `neutral`: 초기 상태 (HP 50%). 공격하지 않음. 파괴/점령만 가능
- `owned`: 소유팀의 터렛. 적에게 자동 공격 (타겟 우선순위: 플레이어 > 미니언)
- `destroyed`: HP가 0이 됨. 적 플레이어가 점령 존 내에서 대기하면 점령 시작
- `rebuilding`: 점령 진행 중. 적 팀 플레이어가 접근하면 분쟁(progress 정지)

### 백도어 방지

- 아군 미니언이 반경 **300px** 내에 없으면 셀이 받는 피해 **20% 감소**
- 즉, 미니언 웨이브와 함께 공격하는 것이 효율적

### 영토 점수

- 소유한 셀 1개당 **초당 1점** 누적
- **영토 점수가 1차 승리 조건** (킬 수는 타이브레이커)

---

## 11. 승리 조건

| 항목 | 값 |
|------|----|
| 1차 승리 기준 | 영토 점수 (territoryScore) |
| 2차 승리 기준 (동점 시) | 팀 킬 수 (teamKills) |
| 라운드 시간 | 없음 (연속 플레이) |

---

## 12. 플라즈마 에칭 해저드 존 (Plasma Etch Hazard)

반도체 식각(Etching) 공정을 모티브로 한 **국지적 환경 위험 이벤트**.
전체 맵을 축소하는 배틀로얄식 존이 아니라, 분쟁 지역에 주기적으로 나타나는 **단기 데미지 존**이다.

### 동작 흐름

```
[대기] ──(25초 쿨다운)──→ [경고: 1.2초]
                              │
                              ▼ 깜빡이는 주황 링 + "PLASMA ETCH" 텍스트
                         [활성: 6초]
                              │
                              ▼ 존 내 플레이어에게 초당 18 데미지 + 15% 슬로우
                         [만료 → 자동 제거]
```

### 스폰 위치 우선순위
1. 중립/파괴된 셀 터렛 주변 (분쟁 지역)
2. 보스방 중앙
3. 포탈 주변
4. 맵 중앙 (fallback)
- 기존 해저드와 너무 가까운 위치는 제외

### 스펙

| 항목 | 값 | 상수명 |
|------|----|--------|
| 경고 시간 | 1.2초 | `HAZARD_ZONE.WARN_DURATION` |
| 활성 시간 | 6초 | `HAZARD_ZONE.ACTIVE_DURATION` |
| 반경 | 160 px | `HAZARD_ZONE.RADIUS` |
| 초당 데미지 | 18 (6초 = 최대 108) | `HAZARD_ZONE.DAMAGE_PER_SEC` |
| 슬로우 | 15% 이동속도 감소 | `HAZARD_ZONE.SLOW_FACTOR` |
| 스폰 주기 | 25초 | `HAZARD_ZONE.SPAWN_INTERVAL` |
| 동시 최대 | 2개 | `HAZARD_ZONE.MAX_ACTIVE` |

### 기능 플래그
`ENABLE_HAZARD_ZONES` (기본: `true`, 환경변수 오버라이드 가능)

---

## 13. 버프 시각화 시스템 (Buff Icons & Timers)

**개인 버프(TSV Booster 등)**와 **팀 버프(보스 처치 보상)** 모두 캐릭터 주변 + HUD에 통합 표시된다.

### 캐릭터 주변 (In-World)
- 모든 활성 버프 아이콘이 플레이어 반경 +18px 궤도를 공전
- 각 아이콘에 **잔여 시간 아크** (원형 게이지) 표시
- 복수 버프 시 균등 간격 배치

### 버프 아이콘 매핑

| 버프 타입 | 아이콘 | 색상 |
|----------|--------|------|
| 개인 속도 (TSV) | ⚡ | 시안 `#00e5ff` |
| 팀 DMG (보스) | ⚔ | 빨강 `#ff6b6b` |
| 팀 SPD (보스) | ⚡ | 초록 `#34d399` |
| 팀 REGEN (보스) | ❤ | 파랑 `#60a5fa` |
| 팀 ARMOR (보스) | ⛨ | 보라 `#a78bfa` |

### HUD 패널 (화면 좌하단)
- 개인 버프 + 팀 버프 통합 목록
- 각 항목: 아이콘, 버프 이름, 잔여 시간(소수점 1자리), 타이머 바
- 색상 코딩된 테두리
- 만료 즉시 자동 제거

### 데미지 흡수 체인 (Damage Absorption Chain)
```
피해 발생 → [1] Capacitor 보호막 (클래스 고유) → [2] Photoresist 실드 (아이템 버프) → [3] HP
```
- 각 단계에서 남은 피해량만 다음 단계로 전달
- Capacitor가 아닌 클래스는 [1] 생략, Photoresist 미보유 시 [2] 생략

### HP 바 데미지 고스트
- 피격 시 HP 바에서 깎인 부분이 **빨간색 잔상**으로 0.4초간 유지
- 이후 초당 60HP 속도로 서서히 줄어들어 실제 HP에 수렴
- 힐을 받으면 고스트 바 즉시 동기화

### 기능 플래그
`ENABLE_BUFF_ICONS` (기본: `true`, 환경변수 오버라이드 가능)

### 회로도 비주얼 시스템 (Circuit Schematic Visuals)

맵의 모든 시각 요소가 실제 반도체 회로도 기호로 렌더링된다. 충돌 영역(hitbox)은 기존 사각형을 유지하며, 비주얼만 회로 기호로 표현.

#### 장애물 기호 매핑

| 라벨 | 회로 기호 | 설명 |
|------|-----------|------|
| **CELL** | MOSFET 트랜지스터 | Gate 막대 + Source/Drain 핀 + N-ch 화살표, G/S/D 라벨 |
| **TAP** | 접지(GND) 기호 | 세로선 + 3단 점감 수평선, GND 라벨 |
| **VIA** (장애물) | 적층 Via | 겹친 두 사각형 + 중앙 원 + 대각선 해칭 |
| **BUF** | 버퍼 게이트 | 삼각형 ▷ + 입출력선 |
| **DIE** | 다이오드 | 삼각형 + cathode 바 + A/K 라벨 |
| **PCM** | 저항 | 지그재그선 + Ω 라벨 |

#### 주요 맵 요소 비주얼

| 요소 | 비주얼 |
|------|--------|
| **Cell Turret** | 커패시터 기호 — 두 평행판 + HP비례 충전 글로우 + ±극성 표시, 파괴 시 금간 표현 |
| **Portal (VIA)** | 동심원 + 십자 해칭(via contact) + 중앙 점 + M1↔M2 레이어 라벨 |
| **Connector** | 전류원 기호 — 원 안에 방향 화살표 + I 라벨 |
| **Spawn Area** | IC 패키지 — 직사각형 본체 + 상하좌우 핀 돌출 + 노치 + 1번 핀 마크 |
| **배경 그리드** | PCB 기판 패턴 — 얇은 트레이스 + 교차점 솔더 패드 + 이중선 보더 |

#### Tri-Bus 맵 배경

- **Power Rail (VDD/VSS)**: 전원 기호(VDD 화살표, VSS 접지 3단선) 400px 간격 반복
- **Clock Spine**: 구형파(square wave) 패턴 데코 + CLK SPINE 라벨
- **레인 내부**: 메탈 트레이스 수평선 (30px 간격)
- **보스방**: Op-Amp 삼각형 데코 내장

#### Wafer Ring 맵 배경

- **웨이퍼 이중 테두리**: 외곽선 + 6px 안쪽 보조선
- **V자형 Flat Notch**: 원형 → 삼각 V 노치로 강화
- **Die 셀 내부**: 의사-랜덤 미세 회로 트레이스 (수평/수직/L자 + 패드 점)
- **보스방**: 저항 지그재그 데코 내장

---

## 14. 주가 연동 시스템 (Market Data)

실제 삼성전자/SK하이닉스 주가 등락률을 게임 내 팀 버프/너프에 반영하는 시스템.

### 데이터 소스 (Provider 우선순위)
1. **Naver** (무료, API 키 불요, KRX 주식 전용)
2. **Twelve Data** (TWELVE_DATA_API_KEY 환경변수 설정 시)
3. **Yahoo Finance** (fallback)
4. **Mock** (최종 fallback, 결정론적 테스트 데이터)

### 버프 티어 매핑

| 주가 일간 변동률 | 데미지 보정 | 속도 보정 |
|-----------------|------------|----------|
| +3% 이상 | **+10%** | **+5%** |
| +1% ~ +3% | **+5%** | 0% |
| -1% ~ +1% | 0% (데드존) | 0% |
| -3% ~ -1% | **-5%** | 0% |
| -3% 이하 | **-10%** | **-5%** |

### 규정 준수 (Compliance)
- 주가 데이터는 **15분 이상 지연** 표시
- 게임 연출 목적이며, 투자 참고용 아님 (면책 고지 필수)

---

## 15. 관리자 이벤트 시스템

`/admin.html` 패널에서 비밀번호 인증(`ADMIN_PASSWORD` 환경변수) 후 실시간 이벤트를 트리거할 수 있다.

### 이벤트 타입

| 타입 | 설명 | 최대 동시 활성 | 쿨다운 |
|------|------|--------------|--------|
| `BOSS_SPAWN` | 보스 몬스터 즉시 스폰 (HP/버프 배율 조절) | 1 | 120초 |
| `ZONE_MODIFIER` | 맵에 원형 버프/디버프 존 생성 | 2 | 60초 |
| `GLOBAL_PARAM` | 글로벌 파라미터 변경 | 1 | 90초 |
| `NEWS_TICKER` | 커스텀 뉴스 티커 메시지 표시 | 3 | 10초 |

### 공격 패턴 미리보기 (Admin Preview)
관리자 패널 하단에 **Canvas 기반 실시간 애니메이션**으로 보스/캐릭터 공격 패턴을 미리 볼 수 있다.
- 버튼으로 개별 보스/클래스 선택 또는 ALL 보기
- 각 엔티티의 형태, 발사 패턴, 드론/펄스 등을 실시간 시뮬레이션
- 하단에 스탯 정보 표시 (HP, DMG, CD, 버프)

---

## 16. 인게임 채팅

| 항목 | 값 |
|------|----|
| 열기/닫기 | `Enter` / `ESC` |
| 메시지 최대 길이 | 120자 |
| 전송 간격 제한 | 1.5초 |
| 서버 히스토리 | 최근 50개 메시지 |

- 비속어 필터 적용 (한/영 키워드 치환)
- XSS 이스케이프 처리
- 채팅 입력 중 WASD 이동 비활성화
- **시스템 메시지 자동 표시**: 보스 스폰/처치, 셀 점령/파괴, 관리자 이벤트

---

## 17. 봇 시스템

| 항목 | 값 |
|------|----|
| 팀당 봇 수 | 2명 (플레이어 부족 시 보충) |
| 조준 흔들림 | 0.15 rad |
| 반응 시간 | 300 ms |

---

## 18. 교육 툴팁 시스템 (Educational Tooltips)

맵 오브젝트에 근접하면 **반도체 지식 팝업**이 자동으로 표시되는 교육 시스템.
클라이언트 전용 (`public/js/tooltips.js`), 서버와 무관하게 동작.

### 동작 방식
- 플레이어가 오브젝트에 **150px** 이내로 접근하면 트리거
- **전투 중 억제**: 오토 타겟이 지정된 상태에서는 표시하지 않음
- 오브젝트별 **60초 쿨다운** (같은 툴팁 반복 방지)
- 가장 가까운 1개만 표시 (동시 복수 표시 없음)

### 표시 생명주기
```
fade-in (0.3초) → hold (3초) → fade-out (0.5초) → 제거
```

### 지원 오브젝트 (27종)

| 카테고리 | 대상 | 예시 내용 |
|----------|------|-----------|
| 장애물 | CELL, TAP, VIA, BUF, DIE, PCM | "Standard Cell: 칩 설계의 레고 블록" |
| 포탈 | via 포탈 | "Via: 금속층을 수직 연결" |
| 커넥터 | Scribe Line | "Scribe Line: 웨이퍼의 테스트 채널" |
| 보스방 | Clock Root Buffer | "클럭 신호를 칩 전체에 분배" |
| 중립 몹 | Photon, Dopant, Alpha | "EUV 13.5nm 파장의 광자" |
| 픽업 | Wafer, EUV, TSV, Photoresist, CMP | "EUV: $1.5억 장비로 극자외선 인쇄" |
| 셀 터렛 | Cell Turret | "점령하여 팹 생산능력 확보" |
| 보스 | NVIDIA, Apple, TSMC, Google, META | "NVIDIA: AI칩에 대량의 HBM 소비" |

---

## 19. 전체 게임 흐름 요약

```
[접속]  닉네임 + 진영(Samsung/SK Hynix) 선택
   ↓
[스폰]  RESISTOR 클래스, 레벨 1로 팀 스폰지점에 배치
   ↓
[전투]  WASD 이동, 자동 전투 (200ms마다 타겟 재평가)
   ↓
[성장]  미니언/플레이어/보스/셀/중립몹 처치 + EUV 아이템 → XP 획득 → 레벨업
   ↓
[진화]  레벨 2 → E 키 → CAPACITOR 또는 REPEATER (Tier 2)
        레벨 5 → E 키 → Tier 3 선택 (INDUCTOR/TRANSFORMER 또는 OSCILLATOR/AMPLIFIER)
   ↓
[전략]  ● 셀 터렛 파괴 & 점령 → 영토 점수 누적 (승리 핵심)
        ● 보스 막타 → 60XP + 30초간 팀 전체 버프 (캐릭터 옆 아이콘으로 확인)
        ● 중립 몹 사냥 → Photon(3XP) / Dopant(12XP) / Alpha(35XP) 파밍
        ● 아이템 수집 → HP 회복 / 경험치 / 속도 부스트 / 실드 / 리젠
        ● 포탈 활용 → 레인 간 빠른 이동 (Tri-Bus)
        ● 해저드 존 회피 → 플라즈마 에칭 데미지 구역 피하기
        ● 보스 사거리 주의 → 보스별 고유 공격 패턴 숙지
   ↓
[사망]  5초 후 리스폰 (현재 레벨 XP의 25% 손실, 레벨/클래스 유지)
   ↓
[연속 플레이]  라운드 제한 없음 — 영토 점수 누적으로 승패 결정
```

---

## 20. 조작법 요약

### PC (키보드)

| 키 | 동작 |
|----|------|
| `W` / `A` / `S` / `D` | 상 / 좌 / 하 / 우 이동 |
| `E` | 진화 선택 (레벨 2 이상) |
| `Enter` | 채팅 열기 |
| `ESC` | 채팅 닫기 |
| 전투 | **자동** (수동 조준/사격 없음) |

### 모바일 (터치)

| 조작 | 동작 |
|------|------|
| **가상 조이스틱** (좌측 하단) | 8방향 이동 (엄지 드래그) |
| ⚡ 버튼 (우측 하단) | 진화 선택 (레벨 2 시 표시) |
| 💬 버튼 | 채팅 열기 |
| ☰ 버튼 | HUD 탭 메뉴 (리더보드/주가/킬피드) |
| 전투 | **자동** (PC와 동일) |

#### 모바일 지원 상세
- **디바이스 감지**: User-Agent + 터치 지원 + 화면 너비 < 1024px → `body.mobile` 클래스 적용
- **조이스틱**: 데드존 15px, 최대 드래그 50px, 8방향 WASD 매핑
- **가로 모드 권장**: 세로 모드 감지 시 회전 안내 오버레이 표시
- **HUD 축소**: 리더보드/킬피드 숨김 → ☰ 탭 메뉴로 이동
- **채팅**: 하단 시트 형태, `visualViewport` API로 소프트 키보드 회피
- **서버 프로토콜 변경 없음**: 동일한 `{up, down, left, right}` 입력 전송

---

## 21. 핵심 파일 맵

| 파일 | 역할 |
|------|------|
| `server/constants.js` | 모든 게임 상수 (밸런스 수치, 플래그, 보스 공격 패턴) |
| `server/maps.js` | 맵 레지스트리 (월드, 장애물, 포탈, 레인, 셀, 보스방) |
| `server/entities.js` | Player, Bullet, Minion, Monster, BossBullet, BossDrone, Pickup, CellTurret, NeutralMob |
| `server/game.js` | 게임 루프, 보스 AI, 충돌, 스폰, 전투, 점수 로직 |
| `server/index.js` | Express + Socket.io 서버 진입점 |
| `server/chat.js` | 채팅 서비스 (검증, 레이트 리밋, 비속어 필터) |
| `server/market/` | 주가 연동 시스템 (providers, buff-calculator, event-engine) |
| `server/admin/` | 관리자 인증 + 이벤트 API 라우트 |
| `public/index.html` | 시작화면 + 게임 캔버스 + HUD + 진화 오버레이 |
| `public/js/main.js` | 클라이언트 진입점, Socket.io 연결 |
| `public/js/renderer.js` | Canvas 렌더링 (회로도 기호 장애물, 커패시터 셀, IC패키지 스폰, 보스, 중립 몹, 버프 궤도, 해저드, 미니맵) |
| `public/js/tooltips.js` | 교육 툴팁 (근접 시 반도체 지식 팝업, 27종 오브젝트 지원) |
| `public/js/input.js` | 키보드 + 터치 조이스틱 입력 → 서버 전송 |
| `public/js/mobile.js` | 모바일 지원 (디바이스 감지, 가상 조이스틱, 액션 버튼, 키보드 회피) |
| `public/js/hud.js` | HUD (보스 정보, 버프 패널, 스코어, 주가, 이벤트) |
| `public/js/interpolation.js` | 서버 스냅샷 보간 |
| `public/js/chat.js` | 채팅 UI (팝업 패널, 알림 배지) |
| `public/admin.html` | 관리자 이벤트 패널 + 공격 패턴 미리보기 |

---

## 22. 주요 상수 일람

### 기능 플래그 (`FEATURE_FLAGS` in constants.js)

| 플래그 | 기본값 | 환경변수 | 설명 |
|--------|--------|----------|------|
| `ENABLE_HAZARD_ZONES` | `true` | `ENABLE_HAZARD_ZONES` | 플라즈마 에칭 해저드 존 |
| `ENABLE_SPEED_PICKUP` | `true` | `ENABLE_SPEED_PICKUP` | TSV Booster 아이템 스폰 |
| `ENABLE_BUFF_ICONS` | `true` | `ENABLE_BUFF_ICONS` | 버프 아이콘/타이머 시각화 |

### 보스 관련 상수

| 상수 | 값 | 설명 |
|------|----|------|
| `BOSS_RESPAWN_DELAY` | 30000 ms | 보스 사망 후 다음 보스 대기 |
| `BOSS_WANDER_RADIUS` | 140 px | 배회 최대 반경 |
| `BOSS_MOVE_SPEED` | 40 px/s | 보스 이동 속도 |
| `BOSS_BULLET_SPEED` | 300 px/s | 보스 발사체 기본 속도 |
| `BOSS_BULLET_RADIUS` | 6 px | 보스 발사체 반경 |
| `BOSS_BULLET_LIFETIME` | 2500 ms | 보스 발사체 수명 |
| `BOSS_DRONE_SPEED` | 100 px/s | 드론 추적 속도 |
| `BOSS_DRONE_HP` | 30 | 드론 체력 |
| `BOSS_DRONE_DAMAGE` | 8 | 드론 접촉 데미지 |
| `BOSS_DRONE_LIFETIME` | 6000 ms | 드론 수명 |
| `BOSS_PULSE_RADIUS` | 200 px | 펄스 AoE 반경 |

### 해저드 존 상수

| 상수 | 값 | 설명 |
|------|----|------|
| `HAZARD_ZONE.WARN_DURATION` | 1200 ms | 경고 시간 |
| `HAZARD_ZONE.ACTIVE_DURATION` | 6000 ms | 데미지 존 지속 |
| `HAZARD_ZONE.RADIUS` | 160 px | 해저드 반경 |
| `HAZARD_ZONE.DAMAGE_PER_SEC` | 18 | 초당 데미지 |
| `HAZARD_ZONE.SLOW_FACTOR` | 0.15 | 슬로우 비율 |
| `HAZARD_ZONE.MAX_ACTIVE` | 2 | 동시 최대 수 |
| `TSV_SPEED_CAP` | 1.30 | 최대 속도 배율 |

### 중립 몹 상수

| 상수 | 값 | 설명 |
|------|----|------|
| `NEUTRAL_MOB_SPAWN_INTERVAL` | 5000 ms | 스폰 체크 주기 |
| `photon.hp` | 10 | Photon HP |
| `photon.xpReward` | 3 | Photon 처치 XP |
| `photon.maxCount` | 40 | Photon 최대 동시 수 |
| `photon.respawnDelay` | 15000 ms | Photon 리스폰 대기 |
| `dopant.hp` | 40 | Dopant HP |
| `dopant.xpReward` | 12 | Dopant 처치 XP |
| `dopant.maxCount` | 20 | Dopant 최대 동시 수 |
| `dopant.respawnDelay` | 25000 ms | Dopant 리스폰 대기 |
| `alpha.hp` | 120 | Alpha Particle HP |
| `alpha.xpReward` | 35 | Alpha 처치 XP |
| `alpha.maxCount` | 6 | Alpha 최대 동시 수 |
| `alpha.respawnDelay` | 45000 ms | Alpha 리스폰 대기 |

### 픽업 상수

| 상수 | 값 | 설명 |
|------|----|------|
| `PICKUP_MAX` | 10 | 동시 최대 아이템 수 |
| `PHOTORESIST.shieldAmount` | 40 HP | 포토레지스트 실드량 |
| `PHOTORESIST.duration` | 10000 ms | 포토레지스트 지속 |
| `CMP_PAD.regenRate` | 3 HP/s | CMP 패드 초당 회복량 |
| `CMP_PAD.duration` | 8000 ms | CMP 패드 지속 |

---

## 23. QA 체크리스트

### A) 보스 시스템
- [ ] 게임 시작 30초 후 첫 보스가 스폰되는가
- [ ] 필드에 보스가 1마리만 존재하는가
- [ ] 보스가 보스방 내에서 배회하는가
- [ ] 보스가 가까운 플레이어를 조준하고 공격하는가
- [ ] 각 보스별 고유 공격 패턴이 동작하는가 (spray/sniper/drone/pulse/twin)
- [ ] 보스 사망 후 30초 카운트다운이 HUD에 표시되는가
- [ ] 다음 보스 이름과 버프가 HUD에 미리 표시되는가
- [ ] 보스 처치 시 팀 전체에 버프가 적용되는가
- [ ] 팀 버프가 캐릭터 옆 아이콘으로 표시되는가
- [ ] TSMC 드론이 플레이어를 추적하는가
- [ ] 드론이 플레이어 총알로 파괴 가능한가
- [ ] 오토 타겟이 보스를 대상으로 지정하는가

### B) 아이템 & XP
- [ ] EUV 획득 시 XP가 +3 증가하는가
- [ ] EUV 획득으로 레벨업이 되는가
- [ ] HP 바 아래 노란색 XP 바가 표시되는가
- [ ] XP 바가 경험치 획득 시 실시간으로 증가하는가
- [ ] 미니언 처치 시 XP 5가 부여되는가 (10→5 너프)
- [ ] 보스 라스트히트 시 60 XP가 부여되는가
- [ ] 보스 데미지 기여자에게 어시스트 20 XP가 부여되는가
- [ ] 라스트히트 플레이어는 어시스트 XP 중복 지급이 안 되는가

### B-2) Tier 3 클래스
- [ ] 레벨 5 도달 시 E키로 Tier 3 진화 선택이 가능한가
- [ ] INDUCTOR 자기 인력(magneticPull)이 범위 내 적을 끌어당기는가
- [ ] TRANSFORMER 오브가 3개인가 (CAPACITOR와 동일, 퇴화 아님)
- [ ] TRANSFORMER 오라가 범위 내 아군(자신 포함)에게 DMG+15%, 리젠 2.5/s를 부여하는가
- [ ] OSCILLATOR가 매 발사 시 3발 확산탄을 동시에 발사하는가
- [ ] OSCILLATOR 확산탄이 근접 시 3발 전탄 적중, 원거리 시 1발만 적중하는가
- [ ] AMPLIFIER가 4발째마다 큰 증폭탄(3배 데미지)을 발사하는가
- [ ] AMPLIFIER 증폭탄이 금색 글로우로 시각적 구별되는가
- [ ] 모든 Tier 3가 Tier 2의 기본 공격 리듬을 유지하는가

### C) 버프 시각화
- [ ] 개인 버프(TSV)와 팀 버프(보스)가 모두 캐릭터 옆에 표시되는가
- [ ] HUD 좌하단 패널에 개인 + 팀 버프가 통합 표시되는가
- [ ] 타이머가 실시간으로 감소하는가
- [ ] HP 바 데미지 고스트(빨간 잔상)가 피격 시 표시되는가

### D) 중립 몹
- [ ] 게임 시작 후 5초마다 중립 몹이 스폰되는가
- [ ] Photon 최대 40마리, Dopant 최대 20마리, Alpha 최대 6마리 제한이 적용되는가
- [ ] Photon이 피격 시 반대 방향으로 도주하는가
- [ ] Dopant/Alpha가 피격 시 반격하는가
- [ ] 중립 몹 처치 시 XP가 올바르게 부여되는가 (3/12/35)
- [ ] 사망한 중립 몹이 유형별 리스폰 딜레이 후 다시 나타나는가
- [ ] 오토 타겟이 중립 몹을 최하위 우선순위로 지정하는가
- [ ] 중립 몹이 미니맵에 작은 점으로 표시되는가

### E) 신규 아이템
- [ ] Photoresist 획득 시 40HP 데미지 실드 버프가 적용되는가
- [ ] Photoresist 실드가 Capacitor 보호막 이후, HP 이전에 피해를 흡수하는가
- [ ] Photoresist 실드가 10초 후 만료되는가
- [ ] CMP Pad 획득 시 초당 3HP 회복이 시작되는가
- [ ] CMP Pad 회복이 최대 HP를 초과하지 않는가
- [ ] CMP Pad가 8초 후 만료되는가
- [ ] 신규 아이템이 올바른 형태(육각형/원형)로 렌더링되는가
- [ ] 스폰 비율이 Wafer 30% / EUV 35% / TSV 10% / Photoresist 12.5% / CMP 12.5%인가

### F) 교육 툴팁
- [ ] 오브젝트에 150px 이내로 접근 시 툴팁이 표시되는가
- [ ] 전투 중(오토 타겟 활성)에는 툴팁이 억제되는가
- [ ] 같은 오브젝트 툴팁이 60초 쿨다운으로 반복 방지되는가
- [ ] fade-in(0.3초) → hold(3초) → fade-out(0.5초) 생명주기가 동작하는가
- [ ] 27종 오브젝트(장애물, 포탈, 몹, 픽업, 셀, 보스) 모두 툴팁이 있는가

### G) 관리자 패널
- [ ] 공격 패턴 미리보기 Canvas가 동작하는가
- [ ] 개별 보스/클래스 선택 시 해당 엔티티만 표시되는가
- [ ] ALL 버튼으로 전체 보기가 가능한가

### H) 회로도 비주얼
- [ ] CELL 장애물이 MOSFET 트랜지스터 기호로 렌더링되는가
- [ ] TAP 장애물이 접지(GND) 기호로 렌더링되는가
- [ ] BUF 장애물이 버퍼 게이트(삼각형) 기호로 렌더링되는가
- [ ] DIE 장애물이 다이오드 기호로 렌더링되는가
- [ ] PCM 장애물이 저항 지그재그 기호로 렌더링되는가
- [ ] Cell Turret이 커패시터(평행판) 기호로 렌더링되는가
- [ ] Cell Turret 파괴 시 금간(crack) 표현이 나타나는가
- [ ] Portal에 십자 해칭과 M1↔M2 라벨이 표시되는가
- [ ] Connector에 전류원(원+화살표) 기호가 표시되는가
- [ ] Spawn Area가 IC 패키지(사각형+핀) 형태로 렌더링되는가
- [ ] Tri-Bus 배경에 솔더 패드, 전원 기호, 구형파가 보이는가
- [ ] Wafer Ring 배경에 die 내부 미세 트레이스가 보이는가

### I) 모바일 지원
- [ ] 모바일 브라우저에서 접속 시 가상 조이스틱이 표시되는가
- [ ] 조이스틱 드래그로 8방향 이동이 가능한가
- [ ] 조이스틱 놓으면 캐릭터가 정지하는가
- [ ] ⚡ 버튼이 레벨 2 도달 시에만 표시되는가
- [ ] ⚡ 버튼 탭으로 진화 오버레이가 열리는가
- [ ] 💬 버튼으로 채팅이 열리는가
- [ ] ☰ 버튼으로 HUD 탭 메뉴(리더보드/주가/킬피드)가 열리는가
- [ ] 세로 모드에서 가로 회전 안내가 표시되는가
- [ ] 가로 모드로 전환 시 안내가 사라지는가
- [ ] PC 브라우저에서는 모바일 컨트롤이 표시되지 않는가
- [ ] 모바일에서 브라우저 줌/스크롤이 방지되는가
- [ ] 채팅 입력 시 소프트 키보드가 채팅 패널을 가리지 않는가
